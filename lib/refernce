import 'package:flutter/material.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Multi-Page App',
      theme: ThemeData(
        primarySwatch: Colors.blue,
      ),
      home: TechnicalInfoPage(),
    );
  }
}

class TechnicalInfoPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // Assuming you have a list of TechnicalInfo objects
    List<TechnicalInfo> technicalInfoList = []; // Populate this with your data
    return Scaffold(
      appBar: AppBar(
        title: Text('Technical Info'),
      ),
      body: ListView.builder(
        itemCount: technicalInfoList.length,
        itemBuilder: (context, index) {
          TechnicalInfo technicalInfo = technicalInfoList[index];
          return ListTile(
            title: Text(technicalInfo.name),
            leading: Image.network(technicalInfo.img),
            onTap: () {
              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (context) => SubmittalCategoryPage(technicalInfo: technicalInfo),
                ),
              );
            },
          );
        },
      ),
    );
  }
}

class SubmittalCategoryPage extends StatelessWidget {
  final TechnicalInfo technicalInfo;

  SubmittalCategoryPage({required this.technicalInfo});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Submittal Categories'),
      ),
      body: ListView.builder(
        itemCount: technicalInfo.value?.length ?? 0,
        itemBuilder: (context, index) {
          SubmittalCategory subCategory = technicalInfo.value![index];
          return ListTile(
            title: Text(subCategory.name),
            leading: Image.network(subCategory.img),
            onTap: () {
              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (context) => SubmittalItemPage(subCategory: subCategory),
                ),
              );
            },
          );
        },
      ),
    );
  }
}

class SubmittalItemPage extends StatelessWidget {
  final SubmittalCategory subCategory;

  SubmittalItemPage({required this.subCategory});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Submittal Items'),
      ),
      body: ListView.builder(
        itemCount: subCategory.value?.length ?? 0,
        itemBuilder: (context, index) {
          SubmittalItem item = subCategory.value![index];
          return ListTile(
            title: Text(item.name),
            leading: Image.network(item.img),
            onTap: () {
              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (context) => SubmittalDataPage(item: item),
                ),
              );
            },
          );
        },
      ),
    );
  }
}

class SubmittalDataPage extends StatelessWidget {
  final SubmittalItem item;

  SubmittalDataPage({required this.item});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Submittal Data'),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            Text(
              'PDF URL:',
            ),
            Text(
              item.value != null && item.value!.isNotEmpty ? item.value![0].urlPdf : 'No PDF URL available',
              style: TextStyle(fontWeight: FontWeight.bold),
            ),
          ],
        ),
      ),
    );
  }
}
